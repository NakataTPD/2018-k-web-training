詳細設計書



目次
<!-- TOC -->

- [1. 目的](#1-目的)
- [2. 変更履歴](#2-変更履歴)
- [3. ユースケース](#3-ユースケース)
    - [3.1. 牌データ一覧表示](#31-牌データ一覧表示)
    - [3.2. 牌データ登録](#32-牌データ登録)
    - [3.3. 牌データ詳細表示](#33-牌データ詳細表示)
    - [3.4. 牌データ削除](#34-牌データ削除)
    - [3.5. 牌データ変更](#35-牌データ変更)
- [4. エンドポイント一覧](#4-エンドポイント一覧)
    - [4.1. エンドポイント詳細](#41-エンドポイント詳細)
        - [4.1.1.](#411)
        - [4.1.2.](#412)

<!-- /TOC -->

# 1. 目的
麻雀システムの機能の詳細を記述する。

# 2. 変更履歴
|更新年月日|更新内容|版数|
|--|--|--|
|2020/03/15|初版発行|0|

# 3. ユースケース
本システムにおけるユースケースマップを以下に示す。
```plantuml
actor ユーザー as user

left to right direction
rectangle システム {
    usecase 牌データ一覧表示 as pailist 
    usecase 牌データ詳細表示 as paidetail
    usecase 牌データ登録 as pairegister
    usecase 牌データ削除 as paidelete
    usecase 牌データ変更 as paichange
}
user --> pailist
user --> pairegister
user --> paidetail
user --> paidelete
user --> paichange

```

## 3.1. 牌データ一覧表示
```plantuml
actor ユーザー as user
actor システム as system

user --> system :牌一覧ボタン押下
system --> user :牌一覧画面表示
```
||操作|
|--|--|
|ユースケース|牌データ一覧表示|
|アクター|ユーザー|
|概要|牌データの一覧を表示する。|
|前提条件|・メインメニュー画面を表示している。<br>・牌登録画面を表示している<br>・牌詳細画面を表示している|
|事後条件|・牌詳細画面へ遷移可能。<br>・メインメニューボタン押下可能<br>・登録画面へボタン押下可能。|

* メインフロー
    1. ユーザーがメインメニュー画面で牌一覧ボタンを押下する。
    1. システムが牌一覧画面を表示する。
    1. ユースケース終了。
* 例外
* 補足
    * 牌詳細画面へ遷移できるのは牌データが登録されている場合のみ。

## 3.2. 牌データ登録
```plantuml
actor ユーザー as user
actor システム as system

user --> system :登録ボタン押下
system --> user :牌一覧画面表示
```
||操作|
|--|--|
|ユースケース|牌データ登録|
|アクター|ユーザー|
|概要|牌データを登録する。|
|前提条件|・牌一覧画面から牌登録画面へ遷移している。<br>・登録ボタン押下可能。<br>・メインメニューボタン押下可能|
|事後条件|・登録ボタン押下可能。<br>・メインメニューボタン押下可能|

* メインフロー
    1. ユーザーがメインメニュー画面で登録画面へボタンを押下する。
    1. システムが牌登録画面を表示する。
    1. ユーザーがデータを入力する。
    1. ユーザーが登録ボタンを押下する。
    1. 登録に成功した場合、牌登録画面へ遷移する。
    1. ユースケース終了。
* 例外
    * 
* 補足



## 3.3. 牌データ詳細表示
```plantuml
actor ユーザー as user
actor システム as system
user --> system :牌データボタン押下
system --> user :牌詳細画面表示
```
||操作|
|--|--|
|ユースケース|牌データ詳細表示|
|アクター|ユーザー|
|概要|牌詳細画面を表示する|
|前提条件|・牌一覧画面を表示している。<br>・牌データが登録されている。|
|事後条件|・削除ボタン押下可能。<br>・牌一覧ボタン押下可能<br>・変更画面へボタン押下可能|
* メインフロー
    1. ユーザーがメインメニュー画面で牌データボタンを押下する。
    1. システムが牌詳細画面を表示する。
    1. ユースケース終了。
* 例外
* 補足


## 3.4. 牌データ削除
```plantuml
actor ユーザー as user
actor システム as system

user --> system :削除ボタン押下
system --> user :牌一覧画面表示
```
||操作|
|--|--|
|ユースケース|牌データ削除|
|アクター|ユーザー|
|概要|牌データを削除する。|
|前提条件|・牌詳細画面を表示している。<br>・牌データが登録されている。|
|事後条件|牌一覧画面に遷移している|
* メインフロー
    1. ユーザーがメインメニュー画面で牌データボタンを押下する。
    1. システムが牌データをDBより削除する。
    1. システムが牌一覧画面を表示する。
    1. ユースケース終了。
* 例外
* 補足


## 3.5. 牌データ変更
```plantuml
actor ユーザー as user
actor システム as system

user --> system :変更ボタン押下
system --> user :牌詳細画面表示
```
||操作|
|--|--|
|ユースケース|牌データ変更|
|アクター|ユーザー|
|概要|牌データを変更する。|
|前提条件|・牌変更画面を表示している。<br>・牌データが登録されている。|
|事後条件|牌詳細画面に遷移している|
* メインフロー
    1. ユーザーが牌詳細画面で変更画面へボタンを押下する。
    1. ユーザーが牌変更画面で牌データを変更する。
    1. ユーザーが変更ボタンを押下する。
    1. システムが牌詳細画面に遷移する。
    1. ユースケース終了。
* 例外
* 補足


# 4. エンドポイント一覧
* プレゼンテーション層、アプリケーション層、データ層の3層構造で記述
```plantuml
actor ユーザー as user
left to right direction
rectangle アプリケーション as system {
usecase 画面を開く as open
}
rectangle サーバー as server {
usecase 処理 as aaaa
}
rectangle データベース as DB {
usecase 更新 as iiii
}
user --> open :Request
open --> user :Response
open --> aaaa
aaaa --> iiii
```
```plantuml
actor ユーザー as user

user -> プレゼンテーション層 : Attend Event Request

activate プレゼンテーション層
プレゼンテーション層 -> Member : Create Member Request

activate Member
Member -> Member : Create Member
プレゼンテーション層 <-- Member : Create Member Response
deactivate Member

プレゼンテーション層 -> プレゼンテーション層 : Create Ticket
user <-- Ticket : Attend Event Response
deactivate Ticket
```
## 4.1. エンドポイント詳細
### 4.1.1.  
### 4.1.2.  
